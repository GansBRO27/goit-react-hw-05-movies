"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[708],{708:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(982),c=n(885),o=n(791),u=n(731),i=n(984),a=n(184),s=function(t){var e=t.movies,n=t.location;return(0,a.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.title;return(0,a.jsx)("li",{children:(0,a.jsx)(u.OL,{to:"".concat(e),state:{from:n},children:r})},(0,i.x0)())}))})},f=n(926),h=n(689),l=function(){var t=(0,o.useState)([]),e=(0,c.Z)(t,2),n=e[0],i=e[1],l=(0,o.useState)(""),p=(0,c.Z)(l,2),v=p[0],d=p[1],g=(0,o.useState)(1),m=(0,c.Z)(g,2),_=m[0],x=m[1],y=(0,o.useState)(),j=(0,c.Z)(y,2),b=j[0],S=j[1],k=(0,u.lr)(),w=(0,c.Z)(k,2),Z=w[0],U=w[1],C=Z.get("query"),q=(0,h.TH)();console.log(q),(0,o.useEffect)((function(){C&&(C!==v&&(i([]),x(1)),(0,f.cu)(C,_).then((function(t){return t.json()})).then((function(t){var e=t.results,n=t.total_pages;i((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e))})),d(C),S(n)})))}),[C,v,_]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===C&&alert("put movie name please");var e=t.currentTarget;U({query:e.elements.searchQuery.value})},children:[(0,a.jsx)("input",{type:"text",name:"searchQuery"}),(0,a.jsx)("button",{children:"search"})]}),C&&(0,a.jsx)(s,{movies:n,location:q}),b>1&&(0,a.jsx)("button",{onClick:function(){x((function(t){return t+1}))},children:"load more"}),(0,a.jsx)(h.j3,{})]})})}},926:function(t,e,n){n.d(e,{Bt:function(){return a},SU:function(){return c},cu:function(){return o},wL:function(){return i},zT:function(){return u}});var r="c209fa6cb0ce43326b8f217a57ec8985";function c(){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(r))}function o(t,e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(t,"&page=").concat(e))}function u(t){return fetch("\nhttps://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(r,"&language=en-US"))}function i(t){return fetch("\nhttps://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r,"&language=en-US"))}function a(t){return fetch("\nhttps://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(r,"&language=en-US&page=1"))}},984:function(t,e,n){n.d(e,{x0:function(){return r}});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=708.477e23b7.chunk.js.map