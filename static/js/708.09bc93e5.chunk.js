"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[708],{708:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=n(982),c=n(885),o=n(791),u=n(731),a=n(984),i=n(184),s=function(t){var e=t.movies,n=t.location;return(0,i.jsx)("ul",{children:e.map((function(t){var e=t.id,r=t.title;return(0,i.jsx)("li",{children:(0,i.jsx)(u.OL,{to:"".concat(e),state:{from:n},children:r})},(0,a.x0)())}))})},f=n(926),l=n(689),h=function(){var t=(0,o.useState)([]),e=(0,c.Z)(t,2),n=e[0],a=e[1],h=(0,o.useState)(""),p=(0,c.Z)(h,2),d=p[0],m=p[1],v=(0,o.useState)(1),g=(0,c.Z)(v,2),x=g[0],y=g[1],j=(0,o.useState)(),b=(0,c.Z)(j,2),k=b[0],S=b[1],_=(0,u.lr)(),w=(0,c.Z)(_,2),Z=w[0],U=w[1],C=Z.get("query"),q=(0,l.TH)();console.log(q),(0,o.useEffect)((function(){C&&(C!==d&&(a([]),y(1)),(0,f.cu)(C,x).then((function(t){return t.json()})).then((function(t){var e=t.results,n=t.total_pages;a((function(t){return[].concat((0,r.Z)(t),(0,r.Z)(e))})),m(C),S(n)})))}),[C,d,x]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""===C&&alert("put movie name please");var e=t.currentTarget;U({query:e.elements.searchQuery.value})},children:[(0,i.jsx)("input",{type:"text",name:"searchQuery"}),(0,i.jsx)("button",{children:"search"})]}),C&&(0,i.jsx)(s,{movies:n,location:q}),k>1&&(0,i.jsx)("button",{onClick:function(){y((function(t){return t+1}))},children:"load more"}),(0,i.jsx)(l.j3,{})]})})}},926:function(t,e,n){n.d(e,{Bt:function(){return i},SU:function(){return c},cu:function(){return o},wL:function(){return a},zT:function(){return u}});var r="c209fa6cb0ce43326b8f217a57ec8985";function c(){return fetch("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(r))}function o(t,e){return fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat(r,"&query=").concat(t,"&page=").concat(e))}function u(t){return fetch("\nhttps://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(r,"&language=en-US"))}function a(t){return fetch("\nhttps://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(r,"&language=en-US"))}function i(t){return fetch("\nhttps://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(r,"&language=en-US&page=1"))}},984:function(t,e,n){n.d(e,{x0:function(){return r}});var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(t)).reduce((function(t,e){return t+=(e&=63)<36?e.toString(36):e<62?(e-26).toString(36).toUpperCase():e>62?"-":"_"}),"")}}}]);
//# sourceMappingURL=708.09bc93e5.chunk.js.map